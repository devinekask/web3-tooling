"use strict";(self.webpackChunktooling=self.webpackChunktooling||[]).push([[410],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>p});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(n),p=i,f=u["".concat(s,".").concat(p)]||u[p]||m[p]||o;return n?r.createElement(f,a(a({ref:t},d),{},{components:n})):r.createElement(f,a({ref:t},d))}));function p(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2357:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(7462),i=(n(7294),n(3905));const o={},a="Ignore files",l={unversionedId:"git/git-05-ignore",id:"git/git-05-ignore",title:"Ignore files",description:"It won't be necessary to keep track of all the files in a project folder via Git. For example, it is not a good idea to track a nodemodules (see later) or uploads folder in your repository. Also hidden system files, such as .DSStore are of no use in a repository.",source:"@site/docs/git/git-05-ignore.md",sourceDirName:"git",slug:"/git/git-05-ignore",permalink:"/workflows/git/git-05-ignore",draft:!1,editUrl:"https://github.com/devinekask/workflows/docs/git/git-05-ignore.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Undo",permalink:"/workflows/git/git-04-undo"},next:{title:"Branching",permalink:"/workflows/git/git-06-branches"}},s={},c=[{value:"Delete files",id:"delete-files",level:2},{value:"Delete files &amp; folders from the commit history",id:"delete-files--folders-from-the-commit-history",level:3},{value:".gitignore",id:"gitignore",level:2}],d={toc:c};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ignore-files"},"Ignore files"),(0,i.kt)("p",null,"It won't be necessary to keep track of all the files in a project folder via Git. For example, it is not a good idea to track a ",(0,i.kt)("inlineCode",{parentName:"p"},"node_modules")," (see later) or ",(0,i.kt)("inlineCode",{parentName:"p"},"uploads")," folder in your repository. Also hidden system files, such as ",(0,i.kt)("inlineCode",{parentName:"p"},".DS_Store")," are of no use in a repository."),(0,i.kt)("p",null,"Let us work with an example. Create a dummy project like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir dummy-project\ncd dummy-project\ntouch file\nmkdir notme\ntouch notme/forgetaboutme\n")),(0,i.kt)("p",null,"If everything went well, you should have a file structure like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"`-- dummy-project\n    |-- file\n    `-- notme\n        `-- forgetaboutme\n")),(0,i.kt)("p",null,"We will commit everything, including ",(0,i.kt)("inlineCode",{parentName:"p"},"notme"),', "by accident" to set it straight afterwards'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ git init\nInitialized empty Git repository in /Users/demouser/Documents/dummy-project/.git/\n$ git add .\n$ git commit -m "initial commit"\n[main (root-commit) 2d9ab38] initial commit\n 2 files changed, 0 insertions(+), 0 deletions(-)\n create mode 100644 file\n create mode 100644 notme/forgetaboutme\n')),(0,i.kt)("h2",{id:"delete-files"},"Delete files"),(0,i.kt)("p",null,"You have now added the entire project, including the ",(0,i.kt)("inlineCode",{parentName:"p"},"notme"),", to your git repository.\nWhoops, we will now correct this error:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ git rm -r --cached notme\nrm 'notme/forgetaboutme'\n")),(0,i.kt)("p",null,"The --cached option causes the file to be deleted from the repository index, but remains in your file system."),(0,i.kt)("p",null,"A git status now gives the following result:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ git status\nOn branch main\nChanges to be committed:\n  (use "git restore --staged <file>..." to unstage)\n  deleted:    notme/forgetaboutme\n\nUntracked files:\n  (use "git add <file>..." to include in what will be committed)\n  notme/\n')),(0,i.kt)("p",null,"Add commit this deletes by using the flag -A in the add command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ git add -A .\n$ git commit -m "removed notme folder"\nOn branch main\nnothing to commit, working tree clean\n')),(0,i.kt)("h3",{id:"delete-files--folders-from-the-commit-history"},"Delete files & folders from the commit history"),(0,i.kt)("p",null,"We just created a commit removing the ",(0,i.kt)("inlineCode",{parentName:"p"},"notme")," folder. However, there is still a commit where these ",(0,i.kt)("inlineCode",{parentName:"p"},"notme")," are present, this way our repo can become unnecessary large. Or if we committed sensitive data like passwords and such, this can become a problem. If you want to remove folders or files from the entire history of your project, you have to go one step further."),(0,i.kt)("p",null,"You can edit the git history using the git ",(0,i.kt)("inlineCode",{parentName:"p"},"filter-branch")," command. To clear our ",(0,i.kt)("inlineCode",{parentName:"p"},"notme")," folder, let's do the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git filter-branch --tree-filter 'rm -rf notme' HEAD\nWARNING:  git-filter-branch has a glut of gotchas generating mangled history rewrites\n          Hit Ctrl-C before proceeding to abort, then use an\n          alternative filtering tool such as 'git filter-repo'\n          (https://github.com/newren/git-filter-repo/) instead.  See the\n          filter-branch manual page for more details; to squelch this warning,\n          set FILTER_BRANCH_SQUELCH_WARNING=1.\nProceeding with filter-branch...\n\nRewrite 2d9ab38218ad42d0cc14d89fa42a313df6afce5d (1/1) (0 seconds passed, remaining 0 predicted)\nRef 'refs/heads/main' was rewritten\n")),(0,i.kt)("p",null,"The folder will be deleted on your file system and in the history. But this workflow isn't ideal. We could easely add that directory again. It's impossible to keep track of all the files you want or don't want to track yourself. We will fix this by using a ",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore")," file."),(0,i.kt)("h2",{id:"gitignore"},".gitignore"),(0,i.kt)("p",null,"We will now specify which files we don't want to track in the future. This can be done with a ",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore")," file. This is a text file in your repository that specifies which files and directories are allowed to be ignored by git."),(0,i.kt)("p",null,"Create a new file called ",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore")," in the root of your repository. Give this the following content:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},".DS_Store\nnotme/\n")),(0,i.kt)("p",null,"This will cause the ",(0,i.kt)("inlineCode",{parentName:"p"},".DS_Store")," file and the ",(0,i.kt)("inlineCode",{parentName:"p"},"notme")," folder (& all its subfolders) to be ignored in the future."),(0,i.kt)("p",null,"Add and commit this file to include it in your repository."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'git add .\ngit commit -m "added .gitignore"\n')),(0,i.kt)("p",null,"In practice, you will create such a ",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore"),' file as one of your first files. This way you avoid "contaminating" your repository with unnecessary files, and you avoid drastic actions such as deleting folders & files from the history.\nA list of useful .gitignore files can be found here: ',(0,i.kt)("a",{parentName:"p",href:"https://github.com/github/gitignore"},"https://github.com/github/gitignore")))}m.isMDXComponent=!0}}]);