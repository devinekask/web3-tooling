"use strict";(self.webpackChunktooling=self.webpackChunktooling||[]).push([[25],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),h=a,m=c["".concat(s,".").concat(h)]||c[h]||d[h]||r;return n?i.createElement(m,l(l({ref:t},u),{},{components:n})):i.createElement(m,l({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var p=2;p<r;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9095:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const r={sidebar_position:6},l="Vite",o={unversionedId:"vite-01-intro",id:"vite-01-intro",title:"Vite",description:"Up until now, we where doing fine with the VS Code Live Server. But since our applications will become more and more complex (depending on npm packages to give an example), we need a more advanced development server. This is where Vite comes in. There are a lot of advantages, the following is just a summary:",source:"@site/docs/vite-01-intro.md",sourceDirName:".",slug:"/vite-01-intro",permalink:"/vite-01-intro",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vite-01-intro.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Npx",permalink:"/modules/packages-05-npx"},next:{title:"Homebrew",permalink:"/homebrew-01-intro"}},s={},p=[{value:"Features",id:"features",level:2},{value:"Dev server",id:"dev-server",level:3},{value:"HRM",id:"hrm",level:3},{value:"Production build",id:"production-build",level:3},{value:"Plugins",id:"plugins",level:3},{value:"Installation",id:"installation",level:2},{value:"Exploration",id:"exploration",level:2},{value:"HMR",id:"hmr",level:3},{value:"Build it",id:"build-it",level:3},{value:"Preview",id:"preview",level:3}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"vite"},"Vite"),(0,a.kt)("p",null,"Up until now, we where doing fine with the VS Code Live Server. But since our applications will become more and more complex (depending on npm packages to give an example), we need a more advanced development server. This is where ",(0,a.kt)("a",{parentName:"p",href:"https://vitejs.dev/"},"Vite")," comes in. There are ",(0,a.kt)("a",{parentName:"p",href:"https://vitejs.dev/guide/why.html"},"a lot of advantages"),", the following is just a summary:"),(0,a.kt)("h2",{id:"features"},"Features"),(0,a.kt)("h3",{id:"dev-server"},"Dev server"),(0,a.kt)("p",null,"Vite is a development server that has some special tricks up its sleeve to start it up fast, even when a lot of libraries need to be loaded first."),(0,a.kt)("h3",{id:"hrm"},"HRM"),(0,a.kt)("p",null,"Vite has Hot Module Replacement (HRM) built in. This means that when you change a file, the browser will automatically reload the page. And again... does this fast."),(0,a.kt)("h3",{id:"production-build"},"Production build"),(0,a.kt)("p",null,"Vite can also build your application for production. It will bundle all your files into one or more files and minimizes it. It strips out all the comments and unused code. This makes your application smaller and faster."),(0,a.kt)("h3",{id:"plugins"},"Plugins"),(0,a.kt)("p",null,"Vite has a lot of plugins that can be used to extend its functionality. For example, you can use a plugin that makes it possible to use brand new CSS features, but provides an automatic fallback for older browsers."),(0,a.kt)("p",null,"In the end, Vite really speeds up our development process and provides us with a lot of convenient features. Be aware that this isn't the only option out there, things like ",(0,a.kt)("a",{parentName:"p",href:"https://webpack.js.org/"},"Webpack")," or ",(0,a.kt)("a",{parentName:"p",href:"https://parceljs.org/"},"Parcel")," do about the same thing."),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("p",null,"To create a new vite-project, you can run the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm create vite@latest\n")),(0,a.kt)("p",null,"This is an alias for ",(0,a.kt)("inlineCode",{parentName:"p"},"npm init vite@latest")," and will create a new project configured with Vite. A folder will be created with the name of the project. When asked, you can choose for a basic 'Vanilla' project."),(0,a.kt)("p",null,"You ",(0,a.kt)("em",{parentName:"p"},"can")," write this in one line to skip the steps as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm create vite@latest myproject -- --template vanilla\n\nScaffolding project in /Users/demouser/myproject...\n\nDone. Now run:\n\n  cd myproject\n  npm install\n  npm run dev\n")),(0,a.kt)("p",null,"Be aware that we still have to navigate to the project and do a ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install")," to install all the necessary dependencies."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd myproject\nnpm install\n")),(0,a.kt)("h2",{id:"exploration"},"Exploration"),(0,a.kt)("p",null,"Have a look at the newly created project, there is a lot!"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"node_modules")," - this is where all the dependencies are stored, dependencies needed by Vite"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"public")," - A directory containing a svg file. Files in this directory aren't parsed by Vite, this has certain ",(0,a.kt)("a",{parentName:"li",href:"https://vitejs.dev/guide/assets.html#the-public-directory"},"consequences")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".gitignore")," - A file that tells git which files to ignore, notice that the project itself isn't a repository yet."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"counter.js")," - An example file that contains a JavaScript function to increase a counter"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"index.html")," - The main HTML file, notice that it has a script tag that loads a ",(0,a.kt)("inlineCode",{parentName:"li"},"/main.js")," file"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"javascript.svg")," - An other svg file, this one will be parsed by Vite"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"main.js")," - The main JavaScript file, it imports the ",(0,a.kt)("inlineCode",{parentName:"li"},"counter.js")," file, the ",(0,a.kt)("inlineCode",{parentName:"li"},"javascript.svg")," file and the ",(0,a.kt)("inlineCode",{parentName:"li"},"style.css")," (!) file"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"package-lock.json")," - obviously"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"package.json")," - Notice that Vite is a ",(0,a.kt)("strong",{parentName:"li"},"dev"),"Dependency and there are 3 scripts available"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"style.css")," - The main css file.")),(0,a.kt)("p",null,"Spin up the dev server:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm run dev\n\n> myproject@0.0.0 dev\n> vite\n\n\nVITE v3.1.8  ready in 218 ms\n\n\u279c  Local:   http://127.0.0.1:5173/\n\u279c  Network: use --host to expose\n")),(0,a.kt)("p",null,"When you open the URL in your browser, you will see a basic demo page."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Some HTML is generated by the ",(0,a.kt)("inlineCode",{parentName:"li"},"main.js")," file"),(0,a.kt)("li",{parentName:"ul"},"When you click on the button, the counter goes up. So JavaScript seems to be working OK"),(0,a.kt)("li",{parentName:"ul"},"The two SVG's are there"),(0,a.kt)("li",{parentName:"ul"},"The page is definitely styled, but where is the css file loaded?")),(0,a.kt)("p",null,"If you want to stop the dev server, you can enter ",(0,a.kt)("inlineCode",{parentName:"p"},"Ctrl + C")," in the terminal."),(0,a.kt)("h3",{id:"hmr"},"HMR"),(0,a.kt)("p",null,"Organize your desktop so that a browser and VS Code are side by side. Make sure that the Vite dev server is running. Now edit the style.css to give the page a red background. You will see that the background of the page turns red immediately -without doing a full page refresh- When you open up your Developer Tools and inspect the head element, you will experience that only the style tag changes when you change the background color."),(0,a.kt)("h3",{id:"build-it"},"Build it"),(0,a.kt)("p",null,"When you are done with your project, you can build it for production."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm run build\n\n> myproject@0.0.0 build\n> vite build\n\nvite v3.1.8 building for production...\n\u2713 6 modules transformed.\ndist/assets/javascript.8dac5379.svg   0.97 KiB\ndist/index.html                       0.42 KiB\ndist/assets/index.2eccdaac.js         1.40 KiB / gzip: 0.73 KiB\ndist/assets/index.d0964974.css        1.19 KiB / gzip: 0.62 KiB\n")),(0,a.kt)("p",null,"The build process is done and you can find the files in the ",(0,a.kt)("inlineCode",{parentName:"p"},"dist")," folder."),(0,a.kt)("p",null,"Notice the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The ",(0,a.kt)("inlineCode",{parentName:"li"},"vite.svg"),' in the public directory isn\'t "transformed" by Vite, but it is present in the ',(0,a.kt)("inlineCode",{parentName:"li"},"dist")," folder. (it is just copied over)"),(0,a.kt)("li",{parentName:"ul"},"The other files have a hash in their name, this is to prevent caching issues."),(0,a.kt)("li",{parentName:"ul"},"The .js and .css files are minified.")),(0,a.kt)("h3",{id:"preview"},"Preview"),(0,a.kt)("p",null,"You can preview the production build by running the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm run preview\n\n> myproject@0.0.0 preview\n> vite preview\n\n  \u279c  Local:   http://127.0.0.1:4173/\n  \u279c  Network: use --host to expose\n")),(0,a.kt)("p",null,"This opens up a new browser window with the production build. Instead of the inline css in de head, the minified css is loaded from a separate file. The same goes for the JavaScript."))}d.isMDXComponent=!0}}]);